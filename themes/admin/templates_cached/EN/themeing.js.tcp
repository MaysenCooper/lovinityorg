<?php
return unserialize("a:5:{i:0;a:1:{i:0;a:1:{i:0;a:5:{i:0;s:33:\"tcpfunc_58dc76d7c43fb5.77574787_1\";i:1;a:0:{}i:2;i:1;i:3;s:0:\"\";i:4;s:0:\"\";}}}i:1;a:0:{}i:2;s:8:\"themeing\";i:3;N;i:4;a:1:{s:33:\"tcpfunc_58dc76d7c43fb5.77574787_1\";s:15696:\"\$tpl_funcs['tcpfunc_58dc76d7c43fb5.77574787_1']=\$KEEP_TPL_FUNCS['tcpfunc_58dc76d7c43fb5.77574787_1']=recall_named_function('58dc76d7c44105.35232902','\$parameters,\$cl',\"echo \\\"\\\\\\\"use strict\\\\\\\";\\\\n\\\\nfunction make_tooltip_func(ob,op)\\\\n{\\\\n	return function(event) {\\\\n		if (typeof event=='undefined') event=window.event;\\\\n\\\\n		ob.hovered=true;\\\\n\\\\n		if (typeof window.tpl_descrips[op]=='undefined')\\\\n		{\\\\n			var get_and_pass_descrip=function(callback) {\\\\n				do_ajax_request(window.tpl_load_url+'?theme='+window.encodeURIComponent(window.current_theme)+'&id='+window.encodeURIComponent(op)+keep_stub(),function(loaded_result) {\\\\n					if (!loaded_result) return '';\\\\n					window.tpl_descrips[op]=loaded_result.responseText;\\\\n					callback('<div class=\\\\\\\"whitespace_visible\\\\\\\">'+escape_html(window.tpl_descrips[op])+'</div>');\\\\n				});\\\\n			};\\\\n		} else\\\\n		{\\\\n			var get_and_pass_descrip=function(callback) {\\\\n				callback('<div class=\\\\\\\"whitespace_visible\\\\\\\">'+escape_html(window.tpl_descrips[op])+'</div>');\\\\n			};\\\\n		}\\\\n\\\\n		if (typeof window.activate_tooltip!='undefined') {\\\\n			var callback=function(text) {\\\\n				if (ob.hovered) // If still hovered\\\\n					activate_tooltip(ob,event,text,'20%',null,'130px');\\\\n			};\\\\n			get_and_pass_descrip(callback);\\\\n		}\\\\n	}\\\\n}\\\\n\\\\nif (typeof window.tpl_descrips=='undefined')\\\\n{\\\\n	window.tpl_descrips=[];\\\\n	window.tpl_load_url='\\\",\\n	ecv_FIND_SCRIPT_NOHTTP(\\\$cl,array(2),array(\\\"load_template\\\")),\\n	\\\"';\\\\n}\\\\n\\\\nfunction load_template_previews()\\\\n{\\\\n	var elements=document.getElementById('f0file').options;\\\\n	var ob;\\\\n	for (var i=0;i<elements.length;i++)\\\\n	{\\\\n		ob=elements[i];\\\\n		if ((ob.value=='') || (ob.disabled)) continue;\\\\n\\\\n		var op=ob.value;\\\\n		ob.onmouseover=make_tooltip_func(ob,op);\\\\n\\\\n		ob.onmouseout=function(ob) { return function() {\\\\n			ob.hovered=false;\\\\n\\\\n			if (!event) var event=window.event;\\\\n			window.deactivate_tooltip(ob);\\\\n		}; }(ob);\\\\n	}\\\\n}\\\\n\\\\nfunction preview_generator_mouseover(event)\\\\n{\\\\n	if (typeof event=='undefined') event=window.event;\\\\n	if (typeof window.activate_tooltip!='undefined') activate_tooltip(this,event,'<iframe frameBorder=\\\\\\\"0\\\\\\\" title=\\\\\\\"\\\",\\n	ecv(\\\$cl,array(1,2,8),2,\\\"PREVIEW\\\",array()),\\n	\\\"\\\\\\\" style=\\\\\\\"width: 800px; height: 400px\\\\\\\" src=\\\\\\\"'+escape_html(this.href)+'\\\\\\\">\\\",\\n	ecv(\\\$cl,array(2,8),2,\\\"PREVIEW\\\",array()),\\n	\\\"</iframe>','800px');\\\\n}\\\\n\\\\nfunction preview_generator_mousemove(event)\\\\n{\\\\n	if (typeof event=='undefined') event=window.event;\\\\n	if (typeof window.activate_tooltip!='undefined') reposition_tooltip(this,event);\\\\n}\\\\n\\\\nfunction preview_generator_mouseout(event)\\\\n{\\\\n	if (typeof event=='undefined') event=window.event;\\\\n	if (typeof window.deactivate_tooltip!='undefined') deactivate_tooltip(this);\\\\n}\\\\n\\\\nfunction load_previews()\\\\n{\\\\n	var links=document.links;\\\\n	for (var i=0;i<links.length;i++)\\\\n	{\\\\n		if (links[i].id.substr(0,15)=='theme_preview__')\\\\n		{\\\\n			links[i].onmouseover=preview_generator_mouseover;\\\\n			links[i].onmousemove=preview_generator_mousemove;\\\\n			links[i].onmouseout=preview_generator_mouseout;\\\\n		}\\\\n	}\\\\n}\\\\n\\\\nfunction template_edit_page(name,id)\\\\n{\\\\n	if (typeof window.insert_textbox_wrapping=='undefined') return false;\\\\n	if (typeof window.insert_textbox=='undefined') return false;\\\\n\\\\n	var params='';\\\\n\\\\n	var box=document.getElementById('f'+id+'_new');\\\\n	var value=document.getElementById(name).value;\\\\n	var value_parts=value.split('__');\\\\n	value=value_parts[0];\\\\n\\\\n	if (value=='---') return false;\\\\n\\\\n	var ecw=document.getElementById('frame_'+box.name).contentWindow;\\\\n\\\\n	if ((value=='BLOCK')\\\",\\n	((ecv_NOT(\\\$cl,array(),array(\\\"1\\\"))==\\\"1\\\")?(\\\" && (typeof window.showModalDialog!='undefined')\\\"):''),\\n	\\\")\\\\n	{\\\\n		if (ecw) box.value=window.editAreaLoader.getValue(box.name);\\\\n		var url='\\\",\\n	ecv_FIND_SCRIPT_NOHTTP(\\\$cl,array(2),array(\\\"block_helper\\\")),\\n	\\\"?field_name='+box.name+'&block_type=template'+keep_stub();\\\\n		window.faux_showModalDialog(\\\\n			maintain_theme_in_link(url),\\\\n			null,\\\\n			'dialogWidth=750;dialogHeight=600;status=no;resizable=yes;scrollbars=yes;unadorned=yes',\\\\n			function() {\\\\n				if (ecw) window.editAreaLoader.setValue(box.name,box.value);\\\\n			}\\\\n		);\\\\n		return;\\\\n	}\\\\n\\\\n	var arity=value_parts[1];\\\\n	var definite_gets=0;\\\\n	if (arity=='1') definite_gets=1;\\\\n	else if (arity=='2') definite_gets=2;\\\\n	else if (arity=='3') definite_gets=3;\\\\n	else if (arity=='4') definite_gets=4;\\\\n	else if (arity=='5') definite_gets=5;\\\\n	else if (arity=='0-1') definite_gets=0;\\\\n	else if (arity=='3-4') definite_gets=3;\\\\n	else if (arity=='0+') definite_gets=0;\\\\n	else if (arity=='1+') definite_gets=1;\\\\n	var parameter=['A','B','C','D','E','F','G','H','I','J','K'];\\\\n\\\\n	_get_parameter_parameters(\\\\n		definite_gets,\\\\n		parameter,\\\\n		arity,\\\\n		box,\\\\n		name,\\\\n		value,\\\\n		0,\\\\n		'',\\\\n		function(box,name,value,params)\\\\n		{\\\\n			if (ecw) box.value=window.editAreaLoader.getValue(box.name);\\\\n\\\\n			if (name.indexOf('ppdirective')!=-1)\\\\n			{\\\\n				insert_textbox_wrapping(box,'{'+'+START,'+value+params+'}','{'+'+END}');\\\\n			} else\\\\n			{\\\\n				var st_value;\\\\n				if (name.indexOf('ppparameter')==-1)\\\\n				{\\\\n					st_value='{'+'\\\\\\\$';\\\\n				} else\\\\n				{\\\\n					st_value='{';\\\\n				}\\\\n\\\\n				value=st_value+value+'*'+params+'}';\\\\n\\\\n				insert_textbox(box,value);\\\\n			}\\\\n\\\\n			if (ecw) window.editAreaLoader.setValue(box.name,box.value);\\\\n		}\\\\n	);\\\\n\\\\n	return false;\\\\n}\\\\n\\\\nfunction _get_parameter_parameters(definite_gets,parameter,arity,box,name,value,num_done,params,callback)\\\\n{\\\\n	if (num_done<definite_gets)\\\\n	{\\\\n		window.fauxmodal_prompt(\\\\n			'\\\",\\n	ecv(\\\$cl,array(2,8),2,\\\"themes:INPUT_NECESSARY_PARAMETER\\\",array()),\\n	\\\"'+', '+parameter[num_done],\\\\n			'',\\\\n			function(v)\\\\n			{\\\\n				if (v!==null)\\\\n				{\\\\n					params=params+','+v;\\\\n					_get_parameter_parameters(definite_gets,parameter,arity,box,name,value,num_done+1,params,callback);\\\\n				}\\\\n			},\\\\n			'\\\",\\n	ecv(\\\$cl,array(2,8),2,\\\"themes:INSERT_PARAMETER\\\",array()),\\n	\\\"'\\\\n		);\\\\n	} else\\\\n	{\\\\n		if ((arity=='0+') || (arity=='1+'))\\\\n		{\\\\n			window.fauxmodal_prompt(\\\\n				'\\\",\\n	ecv(\\\$cl,array(2,8),2,\\\"themes:INPUT_OPTIONAL_PARAMETER\\\",array()),\\n	\\\"',\\\\n				'',\\\\n				function(v)\\\\n				{\\\\n					if (v!==null)\\\\n					{\\\\n						params=params+','+v;\\\\n						_get_parameter_parameters(definite_gets,parameter,arity,box,name,value,num_done+1,params,callback);\\\\n					} else callback(box,name,value,params);\\\\n				},\\\\n				'\\\",\\n	ecv(\\\$cl,array(2,8),2,\\\"themes:INSERT_PARAMETER\\\",array()),\\n	\\\"'\\\\n			);\\\\n		}\\\\n		else if ((arity=='0-1') || (arity=='3-4'))\\\\n		{\\\\n			window.fauxmodal_prompt(\\\\n				'\\\",\\n	ecv(\\\$cl,array(2,8),2,\\\"themes:INPUT_OPTIONAL_PARAMETER\\\",array()),\\n	\\\"',\\\\n				'',\\\\n				function(v)\\\\n				{\\\\n					if (v!=null)\\\\n						params=params+','+v;\\\\n					callback(box,name,value,params);\\\\n				},\\\\n				'\\\",\\n	ecv(\\\$cl,array(2,8),2,\\\"themes:INSERT_PARAMETER\\\",array()),\\n	\\\"'\\\\n			);\\\\n		}\\\\n		else callback(box,name,value,params);\\\\n	}\\\\n}\\\\n\\\\nfunction dec_to_hex(number)\\\\n{\\\\n	var hexbase='0123456789ABCDEF';\\\\n	return hexbase.charAt((number>>4)&0xf)+hexbase.charAt(number&0xf);\\\\n}\\\\n\\\\nfunction load_contextual_css_editor(file)\\\\n{\\\\n	window.doing_css_for=file.replace('.css','');\\\\n\\\\n	var ui=document.getElementById('selectors');\\\\n	ui.style.display='block';\\\\n	var list=document.createElement('ul');\\\\n	document.getElementById('selectors_inner').appendChild(list);\\\\n	list.id='selector_list';\\\\n\\\\n	set_up_parent_page_highlighting();\\\\n\\\\n	// Set up background compiles\\\\n	if (typeof window.do_ajax_request!='undefined')\\\\n	{\\\\n		var textarea=document.getElementById('css');\\\\n		var last_css=textarea.value;\\\\n		window.css_recompiler_timer=window.setInterval(function() {\\\\n			if ((window.opener) && (window.opener.document))\\\\n			{\\\\n				if (typeof window.opener.have_set_up_parent_page_highlighting=='undefined') { set_up_parent_page_highlighting(); last_css='';/*force new CSS to apply*/ }\\\\n\\\\n				var new_value=window.editAreaLoader.getValue('css');\\\\n				if (new_value!=last_css)\\\\n				{\\\\n					var url='/data/snippet.php?snippet=css_compile__text'+keep_stub();\\\\n					do_ajax_request(url,receive_compiled_css,modsecurity_workaround_ajax('css='+window.encodeURIComponent(new_value)));\\\\n				}\\\\n				last_css=new_value;\\\\n			}\\\\n		}, 2000 );\\\\n	}\\\\n}\\\\n\\\\nfunction set_up_parent_page_highlighting()\\\\n{\\\\n	if (typeof window.opener.find_active_selectors=='undefined') return;\\\\n	window.opener.have_set_up_parent_page_highlighting=true;\\\\n\\\\n	var li,a,selector,elements,element,j;\\\\n	var selectors=window.opener.find_active_selectors(window.doing_css_for,window.opener);\\\\n	var list=document.getElementById('selector_list'),cssText;\\\\n	set_inner_html(list,'');\\\\n\\\\n	for (var i=0;i<selectors.length;i++)\\\\n	{\\\\n		selector=selectors[i].selectorText;\\\\n		li=document.createElement('li');\\\\n		a=document.createElement('a');\\\\n		li.appendChild(a);\\\\n		a.href='#';\\\\n		a.id='selector_'+i;\\\\n		set_inner_html(a,escape_html(selector));\\\\n		list.appendChild(li);\\\\n\\\\n		cssText=(typeof selectors[i].cssText=='undefined')?selectors[i].style.cssText:selectors[i].cssText;\\\\n		if (cssText.indexOf('{')!=-1)\\\\n		{\\\\n			cssText=cssText.replace(/ { /g,' {<br />\\\\\\\\n&nbsp;&nbsp;&nbsp;').replace(/; }/g,'<br />\\\\\\\\n}').replace(/; /g,';<br />\\\\\\\\n&nbsp;&nbsp;&nbsp;');\\\\n		} else // IE\\\\n		{\\\\n			cssText=cssText.toLowerCase().replace(/; /,';<br />\\\\\\\\n');\\\\n		}\\\\n		li.onmouseout=function(event) { if (typeof event=='undefined') event=window.event; if (typeof window.deactivate_tooltip!='undefined') deactivate_tooltip(this); };\\\\n		li.onmousemove=function(event) { if (typeof event=='undefined') event=window.event; if (typeof window.activate_tooltip!='undefined') reposition_tooltip(this,event); };\\\\n		li.onmouseover=function(cssText) { return function(event) { if (typeof event=='undefined') event=window.event; if (typeof window.activate_tooltip!='undefined') activate_tooltip(this,event,cssText,'auto'); } } (cssText);\\\\n\\\\n		// Jump-to\\\\n		a.onclick=function(selector) { return function(event) {\\\\n			cancel_bubbling(event);\\\\n			do_editarea_search('^[ \\\\\\\\t]*'+selector.replace(/\\\\\\\\./g,'\\\\\\\\\\\\\\\\.').replace(/\\\\\\\\[/g,'\\\\\\\\\\\\\\\\[').replace(/\\\\\\\\]/g,'\\\\\\\\\\\\\\\\]').replace(/{/g,'\\\\\\\\{').replace(/}/g,'\\\\\\\\}').replace(/\\\\\\\\+/g,'\\\\\\\\\\\\\\\\+').replace(/\\\\\\\\*/g,'\\\\\\\\\\\\\\\\*').replace(/\\\\\\\\s/g,'[ \\\\\\\\t]+')+'\\\\\\\\\\\\\\\\s*\\\\\\\\{'); // Opera does not support \\\\\\\\s\\\\n			return false;\\\\n		} }(selector);\\\\n\\\\n		// Highlighting on parent page\\\\n		a.onmouseover=function(selector) { return function(event) {\\\\n			if (typeof event=='undefined') event=window.event;\\\\n\\\\n			if ((window.opener) && (!event.ctrlKey) && (!event.metaKey))\\\\n			{\\\\n				var elements=find_selectors_for(window.opener,selector);\\\\n				for (var i=0;i<elements.length;i++)\\\\n				{\\\\n					elements[i].style.outline='3px dotted green';\\\\n					elements[i].style.backgroundColor='green';\\\\n				}\\\\n			}\\\\n		} }(selector);\\\\n		a.onmouseout=function(selector) { return function(event) {\\\\n			if (typeof event=='undefined') event=window.event;\\\\n\\\\n			if ((window.opener) && (!event.ctrlKey) && (!event.metaKey))\\\\n			{\\\\n				var elements=find_selectors_for(window.opener,selector);\\\\n				for (var i=0;i<elements.length;i++)\\\\n				{\\\\n					elements[i].style.outline='';\\\\n					elements[i].style.backgroundColor='';\\\\n				}\\\\n			}\\\\n		} }(selector);\\\\n\\\\n		// Highlighting from parent page\\\\n		elements=find_selectors_for(window.opener,selector);\\\\n		for (j=0;j<elements.length;j++)\\\\n		{\\\\n			element=elements[j];\\\\n\\\\n			add_event_listener_abstract(element,'mouseover',function(a,element) { return function(event) {\\\\n				if (typeof event=='undefined') event=window.event;\\\\n\\\\n				if ((window) && (typeof window.dec_to_hex!='undefined') && (!event.ctrlKey) && (!event.metaKey))\\\\n				{\\\\n					var target=event.target || event.srcElement;\\\\n					var target_distance=0;\\\\n					var element_recurse=element;\\\\n					do\\\\n					{\\\\n						if (element_recurse==target) break;\\\\n						element_recurse=element_recurse.parentNode;\\\\n						target_distance++;\\\\n					}\\\\n					while (element_recurse);\\\\n					if (target_distance>10) target_distance=10; // Max range\\\\n\\\\n					a.style.outline='1px dotted green';\\\\n					a.style.background='#00'+(dec_to_hex(255-target_distance*25))+'00';\\\\n					if (target_distance>4)\\\\n						a.style.color='white';\\\\n					else\\\\n						a.style.color='black';\\\\n				}\\\\n			} }(a,element) );\\\\n			add_event_listener_abstract(element,'mouseout',function(a) { return function(event) {\\\\n				if (typeof event=='undefined') event=window.event;\\\\n\\\\n				if ((window) && (!event.ctrlKey) && (!event.metaKey))\\\\n				{\\\\n					a.style.outline='';\\\\n					a.style.background='';\\\\n					a.style.color='';\\\\n				}\\\\n			} }(a) );\\\\n		}\\\\n	}\\\\n}\\\\n\\\\nfunction find_selectors_for(opener,selector)\\\\n{\\\\n	var result=[],result2;\\\\n	try\\\\n	{\\\\n		result2=opener.document.querySelectorAll(selector);\\\\n		for (var j=0;j<result2.length;j++) result.push(result2[j]);\\\\n	}\\\\n	catch (e) {}\\\\n	for (var i=0;i<opener.frames.length;i++)\\\\n	{\\\\n		if (opener.frames[i]) // If test needed for some browsers, as window.frames can get out-of-date\\\\n		{\\\\n			result2=find_selectors_for(opener.frames[i],selector);\\\\n			for (var j=0;j<result2.length;j++) result.push(result2[j]);\\\\n		}\\\\n	}\\\\n	return result;\\\\n}\\\\n\\\\nfunction do_editarea_search(regexp)\\\\n{\\\\n	var ecw=document.getElementById('frame_css').contentWindow;\\\\n	ecw.editArea.execCommand('show_search');\\\\n	ecw.document.getElementById('area_search_reg_exp').checked=true;\\\\n	ecw.document.getElementById('area_search').value=regexp;\\\\n	ecw.editArea.execCommand('area_search');\\\\n	ecw.editArea.execCommand('hidden_search');\\\\n	try\\\\n	{\\\\n		window.scrollTo(0,find_pos_y(document.getElementById('css').parentNode));\\\\n	}\\\\n	catch (e) {}\\\\n\\\\n	// Force scroll to bottom, so scrolls up when searching and shows result without scrolling back down\\\\n	ecw.document.getElementById('result').scrollTop=ecw.document.getElementById('result').scrollHeight;\\\\n	ecw.editArea.scroll_to_view();\\\\n}\\\\n\\\\nfunction receive_compiled_css(ajax_result_frame,win)\\\\n{\\\\n	if ((typeof win=='undefined') || (!win)) var win=window.opener;\\\\n\\\\n	if (win)\\\\n	{\\\\n		try\\\\n		{\\\\n			var css=ajax_result_frame.responseText;\\\\n\\\\n			// Remove old link tag\\\\n			var e;\\\\n			if (window.doing_css_for=='no_cache')\\\\n			{\\\\n				e=win.document.getElementById('inline_css');\\\\n				if (e)\\\\n				{\\\\n					e.parentNode.removeChild(e);\\\\n				}\\\\n			} else\\\\n			{\\\\n				var links=win.document.getElementsByTagName('link');\\\\n				for (var i=0;i<links.length;i++)\\\\n				{\\\\n					e=links[i];\\\\n					if ((e.type=='text/css') && (e.href.indexOf('/templates_cached/'+window.opener.cms_lang+'/'+window.doing_css_for)!=-1))\\\\n					{\\\\n						e.parentNode.removeChild(e);\\\\n					}\\\\n				}\\\\n			}\\\\n\\\\n			// Create style tag for this\\\\n			var style=win.document.getElementById('style_for_'+window.doing_css_for);\\\\n			if (!style) style=win.document.createElement('style');\\\\n			style.type='text/css';\\\\n			style.id='style_for_'+window.doing_css_for;\\\\n			if (style.styleSheet)\\\\n			{\\\\n				style.styleSheet.cssText=css;\\\\n			} else\\\\n			{\\\\n				if (typeof style.childNodes[0]!='undefined') style.removeChild(style.childNodes[0]);\\\\n				var tn=win.document.createTextNode(css);\\\\n				style.appendChild(tn);\\\\n			}\\\\n			win.document.getElementsByTagName('head')[0].appendChild(style);\\\\n\\\\n			for (var i=0;i<win.frames.length;i++)\\\\n			{\\\\n				if (win.frames[i]) // If test needed for some browsers, as window.frames can get out-of-date\\\\n				{\\\\n					receive_compiled_css(ajax_result_frame,win.frames[i]);\\\\n				}\\\\n			}\\\\n		}\\\\n		catch (ex) {}\\\\n	}\\\\n}\\\\n\\\";\");\";}}");

?>