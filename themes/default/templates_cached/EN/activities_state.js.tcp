<?php
return unserialize("a:5:{i:0;a:1:{i:0;a:1:{i:0;a:5:{i:0;s:33:\"tcpfunc_58dd79883991b7.38779715_1\";i:1;a:0:{}i:2;i:1;i:3;s:0:\"\";i:4;s:0:\"\";}}}i:1;a:0:{}i:2;s:16:\"activities_state\";i:3;N;i:4;a:1:{s:33:\"tcpfunc_58dd79883991b7.38779715_1\";s:4719:\"\$tpl_funcs['tcpfunc_58dd79883991b7.38779715_1']=\$KEEP_TPL_FUNCS['tcpfunc_58dd79883991b7.38779715_1']=recall_named_function('58dd7988399280.22968724','\$parameters,\$cl',\"echo \\\"\\\\\\\"use strict\\\\\\\";\\\\n\\\\n\\\\n\\\\n/*\\\\nThis provides the JavaScript necessary for the \\\\\\\"status\\\\\\\" part of activities\\\\n\\\\nYou can make use of it via require_javascript('activities_state',window.s_update_submit)\\\\n*/\\\\n\\\\nfunction s_update_focus(event)\\\\n{\\\\n	if (\\\\\\\$(this).val().trim()=='\\\",\\n	ecv(\\\$cl,array(2,8),2,\\\"activities:TYPE_HERE\\\",array()),\\n	\\\"')\\\\n	{\\\\n		\\\\\\\$(this).val('');\\\\n		this.className=this.className.replace(/ field_input_non_filled/g,' field_input_filled');\\\\n	}\\\\n	\\\\\\\$(this).removeClass('fade_input');\\\\n}\\\\n\\\\nfunction s_update_blur(event)\\\\n{\\\\n	if (\\\\\\\$(this).val().trim()=='')\\\\n	{\\\\n		\\\\\\\$(this).val('\\\",\\n	ecv(\\\$cl,array(2,8),2,\\\"activities:TYPE_HERE\\\",array()),\\n	\\\"');\\\\n		this.className=this.className.replace(/ field_input_filled/g,' field_input_non_filled');\\\\n	}\\\\n	\\\\\\\$(this).addClass('fade_input');\\\\n}\\\\n\\\\n/**\\\\n * Maintain feedback on how many characters are available in an update box.\\\\n */\\\\nfunction s_maintain_char_count(event)\\\\n{\\\\n	var char_count=\\\\\\\$('#activity_status').val().length;\\\\n\\\\n	if (char_count<255)\\\\n		\\\\\\\$('#activities_update_notify','#status_updates').attr('class','update_success').text((254-char_count)+' \\\",\\n	ecv(\\\$cl,array(2,8),2,\\\"activities:CHARACTERS_LEFT\\\",array()),\\n	\\\"');\\\\n	else\\\\n		\\\\\\\$('#activities_update_notify','#status_updates').attr('class','update_error').text((char_count-254)+' \\\",\\n	ecv(\\\$cl,array(2,8),2,\\\"activities:CHARACTERS_TOO_MANY\\\",array()),\\n	\\\"');\\\\n}\\\\n\\\\n/**\\\\n * Called on update submission\\\\n */\\\\nfunction s_update_submit(event)\\\\n{\\\\n	var subject_text='';\\\\n\\\\n	if (event)\\\\n	{\\\\n		event.preventDefault();\\\\n		subject_text=\\\\\\\$('textarea',this).val().trim();\\\\n	} else\\\\n	{\\\\n		subject_text=\\\\\\\$('textarea','#fp_status_form').val().trim();\\\\n	}\\\\n\\\\n	if ((subject_text=='\\\",\\n	ecv(\\\$cl,array(2,8),2,\\\"activities:TYPE_HERE\\\",array()),\\n	\\\"') || (subject_text==''))\\\\n	{\\\\n		\\\\\\\$('#activities_update_notify','#status_updates').attr('class','update_error').text('\\\",\\n	ecv(\\\$cl,array(2,8),2,\\\"activities:PLEASE_ENTER_STATUS\\\",array()),\\n	\\\"');\\\\n	} else\\\\n	{\\\\n		var url='https://www.lovinity.org/data_custom/activities_handler.php'+keep_stub(true);\\\\n\\\\n		jQuery.ajax({\\\\n			url: url.replace(/^https?:/,window.location.protocol),\\\\n			type: 'POST',\\\\n			data: \\\\\\\$('#fp_status_form').serialize(),\\\\n			cache: false,\\\\n			timeout: 5000,\\\\n			success: function(data,stat) { s_update_retrieve(data,stat); },\\\\n			error: function(a,stat,err) { s_update_retrieve(err,stat); }\\\\n		});\\\\n	}\\\\n}\\\\n\\\\n/**\\\\n * Processes data retrieved for the activities feed and updates the list\\\\n * If called by s_update_submit will also catch if you're logged out and redirect\\\\n */\\\\nfunction s_update_retrieve(data,tStat)\\\\n{\\\\n	document.getElementById('button').disabled=false;\\\\n\\\\n	var update_box=\\\\\\\$('#activities_update_notify','#status_updates');\\\\n	if (tStat=='success')\\\\n	{\\\\n		if (\\\\\\\$('success',data).text()=='0')\\\\n		{\\\\n			if (\\\\\\\$('feedback',data).text().substr(0,13)=='\\\",\\n	ecv(\\\$cl,array(2,8),2,\\\"MUST_LOGIN\\\",array()),\\n	\\\"')\\\\n			{ //if refusal is due to login expiry...\\\\n				window.fauxmodal_alert('\\\",\\n	ecv(\\\$cl,array(2,8),2,\\\"MUST_LOGIN\\\",array()),\\n	\\\"');\\\\n			} else\\\\n			{\\\\n				update_box.attr('class','update_error').html(\\\\\\\$('feedback',data).text());\\\\n			}\\\\n		}\\\\n		else if (\\\\\\\$('success',data).text()=='1')\\\\n		{\\\\n			update_box.attr('class','update_success').text(\\\\\\\$('feedback',data).text());\\\\n			if (\\\\\\\$('#activities_feed').length!=0) // The update box won't necessarily have a displayed feed to update\\\\n			{\\\\n				s_update_get_data();\\\\n			}\\\\n			update_box.fadeIn(1200,function() { update_box.fadeOut(1200,function() {\\\\n				var as=\\\\\\\$('#activity_status');\\\\n				update_box.attr('class','update_success').text('254 \\\",\\n	ecv(\\\$cl,array(2,8),2,\\\"activities:CHARACTERS_LEFT\\\",array()),\\n	\\\"');\\\\n				update_box.fadeIn(1200);\\\\n				as.parent().height(as.parent().height());\\\\n				as.val('\\\",\\n	ecv(\\\$cl,array(2,8),2,\\\"activities:TYPE_HERE\\\",array()),\\n	\\\"');\\\\n				as[0].className=as[0].className.replace(/ field_input_filled/g,' field_input_non_filled');\\\\n				as.fadeIn(1200,function() { as.parent().height(''); });\\\\n			}); });\\\\n		}\\\\n	} else\\\\n	{\\\\n		var errText='\\\",\\n	ecv(\\\$cl,array(2,8),2,\\\"activities:WENT_WRONG\\\",array()),\\n	\\\"';\\\\n		update_box.attr('class','').addClass('update_error').text(errText);\\\\n		update_box.hide();\\\\n		update_box.fadeIn(1200,function() { update_box.delay(2400).fadeOut(1200,function() {\\\\n			s_maintain_char_count(null);\\\\n			update_box.fadeIn(1200);\\\\n		}); });\\\\n	}\\\\n}\\\\n\\\";\");\";}}");

?>